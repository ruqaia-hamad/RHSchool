package api;

import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import com.google.gson.*;

public class GetRequest {

    public static void main(String[] args) throws IOException, InterruptedException {

        HttpClient client = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder()
                .uri(URI.create("https://randomuser.me/api/"))
                .build();

        HttpResponse<String> response = client.send(request,
                HttpResponse.BodyHandlers.ofString());
        String json = 
                "{"
                    + "'title': 'Computing and Information systems',"
                    + "'id' : 1,"
                    + "'children' : 'true',"
                    + "'groups' : [{"
                        + "'title' : 'Level one CIS',"
                        + "'id' : 2,"
                        + "'children' : 'true',"
                        + "'groups' : [{"
                            + "'title' : 'Intro To Computing and Internet',"
                            + "'id' : 3,"
                            + "'children': 'false',"
                            + "'groups':[]"
                        + "}]" 
                    + "}]"
                + "}";
        System.out.println(response.body()+"\n");
        Data data = new Gson().fromJson("https://randomuser.me/api/", Data.class);
    }
}